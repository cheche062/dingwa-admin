<div class="dw-page-nav">
    <ol class="breadcrumb">
        <li><a href="#">首页</a></li>
        <li class="active">公司管理</a></li>
    </ol>
</div>

<!-- <iframe style="width: 100%; height: 80%" src="../updated infor/companyMana.html" frameborder="0"></iframe> -->

<div class="dw-page-filter">
    <form  class="dw-fliter-group form-inline ">
        <div class="form-group">
           <label for="">公司名称:</label>
           <fuzzy-search type="enterprise" query='enterprise.name' queryid="enterprise.id"></fuzzy-search>
        </div>

        <!-- <div class="form-group">
           <label for="">上级公司:</label>
           <fuzzy-search type="enterprise" query='info.parent_name' queryid="info.parent_id"></fuzzy-search>
        </div>
        <div class="form-group">
           <label for="">公司编码:</label>
           <input type="text" class="form-control" id="" placeholder="公司编码" ng-model="info.code">
        </div> -->
    </form >

    <!-- <form class="dw-fliter-group form-inline ">
         <div class="form-group">
           <label for="">所在城市:</label>
           <area-choose class="form-control" style="border:0px;padding:0px"></area-choose>           
        </div>
        <div class="form-group">
           <label for="">公司等级:</label>
           <select ng-model="info.level" class="form-control">
               <option value="0">全部</option>
               <option value="1">一级</option>
               <option value="2">二级</option>
               <option value="3">三级</option>
           </select>
        </div>
        <div class="form-group" style="visibility: hidden;">
           <label for="">所在城市:</label>
           <area-choose class="form-control" style="border:0px;padding:0px"></area-choose>           
        </div>
    </form> -->

    <div class="form-inline clearfix">
        <button class="btn btn-primary pull-right" type="button" name="button" ng-click="searchList()">查询</button>
    </div>
</div>

<div class="dw-page-detail-container table-responsive div-table-border"  >
    <div class="form-inline clearfix div-data-table-1" style="margin-bottom:15px;padding-right:15px;">
        <span style="margin-left: 0px;">|&nbsp;&nbsp;区域列表</span>
        <a ui-sref="main.enterprise/add" class="pull-right">
            <button class="btn btn-primary" >
                    <!-- ng-if="userAuthId.indexOf(19) != -1 -->
                    添加公司
            </button>
        </a> 
    </div>

    <div ng-if="tree == true" style="border-left: 1px solid #e1e0e0;border-top: 1px solid #e1e0e0; overflow: hidden">
        <div class="flexbox-wrap flex-box-title">
            <div class="flex-item2">公司名称</div>
        </div>
        <div ng-repeat="ent in treeEnterprise" class="sp-table input-display-none">
            <div class="flexbox-wrap">
                <div class="flex-item" style="text-align: left;">
                    <div class="tree-div">
                        <span class="ent-{{ent.level}}"></span>
                        <!-- 可点状态 -->

                        <i class="fa fa-plus" ng-click='ent.show = true' ng-show='!ent.show && ent.child.length>0'></i>
                        <i class="fa fa-minus" ng-click='ent.show = false' ng-show ='ent.show && ent.child.length>0'></i>
                        <!-- 不可点状态 -->
                        
                        <i class="fa fa-plus" ng-show='!ent.show && ent.child.length == 0' style="color:#ccc;"></i>
                        <!-- <i class="fa fa-minus" ng-click='ent.show = false' ng-show ='ent.show && ent.child.length>0'></i> 源代码隐藏此行 -->
                        <span>{{ent.name}}</span>
                        
                    </div>
                </div>
            </div>
            <div ng-repeat="ent_two in ent.child" ng-if="ent.child.length > 0" ng-show='ent.show'>
                <div class="flexbox-wrap">
                    <div class="flex-item" style="text-align: left;">
                        <div class="tree-div">
                            <span class="ent-{{ent_two.level}}"></span>
                            <!-- 可点状态 -->

                            <i class="fa fa-plus" ng-click='ent_two.show = true' ng-show='!ent_two.show && ent_two.child.length>0'></i>
                            <i class="fa fa-minus" ng-click='ent_two.show = false' ng-show ='ent_two.show && ent_two.child.length>0'></i>
                            <!-- 不可点状态 -->
                            <i class="fa fa-plus" ng-show='!ent_two.show && ent_two.child.length == 0' style="color:#ccc;"></i>
                            <span>{{ent_two.name}}</span>
                        </div>
                    </div>
                </div>
                <div ng-repeat="ent_three in ent_two.child" ng-if="ent_two.child.length > 0" ng-show='ent_two.show'>
                    <div class="flexbox-wrap">
                        <div class="flex-item" style="text-align: left;">
                            <div>
                                <span class="ent-{{ent_three.level}}"></span>
                                <!-- 可点状态 -->
                                <i class="fa fa-plus" ng-click='ent_three.show = true' ng-show='!ent_three.show && ent_three.child.length>0'></i>
                                <i class="fa fa-minus" ng-click='ent_three.show = false' ng-show ='ent_three.show && ent_three.child.length>0'></i>
                                <!-- 不可点状态 -->
                                <i class="fa fa-plus" ng-show='!ent_three.show && ent_three.child.length == 0' style="color:#ccc;"></i>
                                <span>{{ent_three.name}}</span>
                            </div>
                        </div>
                    </div>
                    <div ng-repeat="ent_four in ent_three.child" ng-if="ent_three.child.length > 0" ng-show='ent_three.show'>
                    <div class="flexbox-wrap">
                        <div class="flex-item" style="text-align: left;">
                            <div>
                                <span class="ent-{{ent_four.level}}"></span>
                                <!-- 可点状态 -->
                                <i class="fa fa-plus" ng-click='ent_four.show = true' ng-show='!ent_four.show &&ent_four.child.length>0'></i>
                                <i class="fa fa-minus" ng-click='ent_four.show = false' ng-show ='ent_four.show &&ent_four.child.length>0'></i>
                                <!-- 不可点状态 -->
                                <i class="fa fa-plus" ng-show='!ent_four.show &&ent_four.child.length == 0'></i>
                                <span>{{ent_four.name}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>
    <table class="table table-bordered" ng-if="tree == !true">
        <thead>
            <tr>
                <!-- <td>序号</td> -->
                <td>公司名称</td>
                <td>公司类型</td>
                <td>创建时间</td>
                <td>创建人</td>
                <td>联系人</td>
                <td>联系电话</td>
                <td>详细地址</td>
                <!-- <td>创建时间</td> -->
                <td>操作</td>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in info.list">
                <!-- <td>{{$index + data.offset + 1}}</td> -->
                <td>{{item.name}}</td>
                <td>{{item.code}}</td>
                <td>{{item.parent_name}}</td>
                <td>{{item.level}}</td>
                <td>{{item.contacts}}</td>
                <td>{{item.phone}}</td>
                <td>{{item.address}}</td>
                <!-- <td>{{item.created_at}}</td> -->
                <td>
                    <button class="btn btn-warning" ng-click="goDetail(item.id)" ng-if="userAuthId.indexOf(16) != -1">详情</button> 
                    <button class="btn btn-danger" ng-click="delete(item.id)" ng-if="userAuthId.indexOf(18) != -1">删除</button>
                    <button class="btn btn-primary" ng-click="goEdit(item.id)" ng-if="userAuthId.indexOf(17) != -1">编辑</button>
                </td>
            </tr>
        </tbody>
    </table>
    <!-- <page-nation info="info" start-paging="startPaging()"></page-nation> -->
    <!-- <div class="table-bottom">
        <div class="more-operation-btn-group">
            <a ui-sref="main.enterprise/add">
                <button class="btn btn-primary">
                        添加
                </button>
            </a>
        </div>
    </div> -->
    <div class="fenye">
        <span class="sum">Total 85 items</span>
     
        <div class="pagefenye">
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    <li>
                    <a href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                    </li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">3</a></li>
                    <li><a href="#">4</a></li>
                    <li><a href="#">5</a></li>
                    <li>...</li>
                    <li><a href="#">6</a></li>
                    <li>
                    <a href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                    </li>
                    <li><a href="#">10/page <i class="icon fa fa-angle-down"></i></a></li>
                    <li>Goto</li>
                    <li class="lastText"><a href="#">8</a></li>
                    


                </ul>
            </nav>
        </div>
    </div>

</div>

<!-- 插入区域管理 -->
<!-- <iframe style="width: 100%;height:100%;margin-top:30px;" src="../updated infor/companyMana.html" frameborder="0"></iframe> -->

